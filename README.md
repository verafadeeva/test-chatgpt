## LanguageModelChat

### Описание проекта
Простой сервис, который получает запрос от пользователя, перенаправляет его к апи chatgpt / gigachat, полученный ответ отдает пользователю.

### Технологии
- Python 3.11
- aiohttp
- pydantic
- poetry

### Запуск проекта
1. Склонировать репозиторий:

```
git clone git@github.com:verafadeeva/test-chatgpt.git
```
2. Перейти папку с проектом:
```
cd test-chatgpt
```
3. Для управления зависимостями в проекте используется [poetry](https://python-poetry.org/docs/).
4. В директории /test-chatgpt выполнить команду:
```
make
```
5. После установки зависимостей и активации окружения, для запуска сервера выполнить:
```
make run
```

### Пример использования
Локально сервер доступен по адресу http://127.0.0.1:8080. Текущий ответ модели - это всегда последний объект в списке "messages". Чтобы сохранить контекст переписки и вести связный разговор - необходимо каждый раз отправлять весь массив сообщений.

Доступны следующие эндпоинты:
```
1. POST /chatgpt/
```
Пример запроса:
```
{
    "model": "gpt-3.5-turbo",
    "messages": [
        {
            "role": "user",
            "content": "Привет!"
        }
    ]
}
```
Ответ:
```
{
    "model": "gpt-3.5-turbo",
    "messages": [
        {
        "role": "system",
        "content": "Ты заботливый ассистент и хочешь помочь пользователю решить его проблему"
        },
        {
        "role": "user",
        "content": "Привет!"
        },
        {
        "role": "assistant",
        "content": "Привет! Чем я могу тебе помочь?"
        }
    ]
}
```
```
2. POST /gigachat/
```
Пример запроса:
```
{
    "model": "GigaChat:latest",
    "messages": [
        {
            "role": "user",
            "content": "Привет!"
        }
    ]
}
```
Ответ:
```
{
    "model": "GigaChat:latest",
    "messages": [
        {
        "role": "system",
        "content": "Ты заботливый ассистент и хочешь помочь пользователю решить его проблему"
        },
        {
        "role": "user",
        "content": "Привет!"
        },
        {
        "role": "assistant",
        "content": "Привет! Чем я могу тебе помочь?"
        }
    ]
}
```

### Автор
- Вера Фадеева ([@fadeevavera](https://t.me/fadeevavera))